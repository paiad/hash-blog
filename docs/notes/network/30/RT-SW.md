---
title: 路由与交换
icon: tabler:router
createTime: 2024/11/17 00:18:19
permalink: /network/o6pj1ty3/
#watermark:
#  content: Life is like a hash; it's what you make of it. 
#  globalAlpha: 0.08
#  rotate: 30
---
- 单选： 15道  2分
- 填空： 10道  1分
- 解答： 4道   5分
- 应用： 5道   8分

## STP生成树协议
桥ID = 2字节的桥优先级(默认32768，可手动修改，范围0~65536) + 6字节的桥MAC地址
![img.png](SW-RT/img4.png)
## 综合题
### 路由与交换技术自测题一
1、简述访问网络设备的命令行接口的方法。
::: details 点我查看答案
1. 通过本地Console口本地访问
2. 通过AUX口远程访问
3. 通过Telnet、SSH远程连接
4. 异步串口访问
:::

2、简述Comware常见的命令视图及其切换方法。
::: details 点我查看答案
![img.png](SW-RT/img1.png)
:::
3、举例说明Comware命令行常见的错误。

4、某校园网刚采购一台H3C路由器，请你为该路由器配置Telnet服务器，实现远程管理，其中IP地址为10.0.0.1/24，用户名为admin，密码为你的姓名简拼+学号。
::: details 点我查看答案
```shell
[RTA]相关操作:
<RTA> system-view
[RTA] telnet server enable
[RTA] inter g0/1
[RTA-GigabitEthernet0/0]ip addr 10.0.0.1 24
 

[RTA] line vty 0 4
[RTA-line-vty-0-4] authentication-mode scheme
[RTA-line-vty-0-4] quit

[RTA] local-user admin
[RTA-luser-manage-admin] password simple pwd123456789
[RTA-luser-manage-admin] service-type telnet
[RTA-luser-manage-admin] authorization-attribute user-role network-admin/(network-operator)
[RTA-luser-manage-admin] quit
[RTA] save 
```

:::

### 路由与交换技术自测题二
1、简述计算机网络中OSI/RM每层的名称及功能（用一句话）。
::: details 点我查看答案
1. 物理层：传输比特流
2. 数据链路层：负责将数据封装成帧并传输
3. 网络层：负责路由转发
4. 传输层：负责端对端的通信
5. 会话层：负责会话的建立、维护和结束
6. 表示层：负责传输数据的语法和语义
7. 应用层：为应用程序提供网络服务
:::
2、简述计算机网络的性能指标及含义。
::: details 点我查看答案
1. 时延：数据传播的延迟时间
2. 带宽：最高的传输速率
3. 时延带宽积：时延和带宽的乘机
4. 数据率：数据的传输速率
5. 吞吐量：单位时间内通过某网络的数据量
:::
3、交换机与路由器有何异同之处（作用与特点）
::: details 点我查看答案
相同：交换机和路由器都具有数据转发的功能，能够连接不同的设备

不同：
交换机适用于在局域网内部通信工作，是基于MAC的；
路由器适用于在不同网段之间的通信工作，是基于IP的。
:::
4、简述网络设备开机后的一般引导过程。
::: details 点我查看答案
硬件自检 -> 加载引导程序(没有就进入BootRom模式) -> 引导操作系统 -> 加载配置文件(空配置/启动配置) -> 设备成功开机
::: 
5、某公司的网络有台路由器系统版本过低，请你给出该路由器的升级方案。
::: details 点我查看答案
1. 通过TFTP、FTP等传输协议，将新的配置文件上传路由器
2. 将上传的文件设置为启动文件
3. 重启设备
:::
6、如果该路由器G0/0端口IP地址为8.8.8.8/24，请你此设备中配置网络地址和FTP服务器。
::: details 点我查看答案
```shell
RTA相关操作:
[RTA] ftp server enable
[RTA] inter g0/0
[RTA-GigabitEthernet0/0] ip addr 8.8.8.8 24
[RTA] local-user admin
[RTA-luser-manage-admin] password simple pwd123456789
[RTA-luser-manage-admin] server-type ftp
[RTA-luser-manage-admin] authorization-attribute user-role network-admin

```
:::

### 路由与交换技术自测题三
1、简述tracert命令的工作原理。
::: details 点我查看答案
1. 发送ICMP请求包
2. 逐步增加TTL值
3. 记录每跳的延迟和路由信息
:::
2、简述标准以太网的物理传输介质和连接器。
::: details 点我查看答案
`同轴电缆`用于早期的以太网标准（如10BASE5、10BASE2），BNC连接器来连接同轴电缆。

`双绞线`（如Cat5、Cat6、Cat6a等）是现代以太网中最常见的传输介质，使用RJ45连接器。

`光纤`用于高速、长距离的网络连接，常用的光纤连接器包括LC、SC和MTP/MPO连接器。
:::
3、简述以太网交换机Mac地址表的学习过程。
::: details 点我查看答案
1. 接收到数据帧后，记录源Mac地址以及端口信息
2. 查找Mac地址表，若存在，则转发；若不存在，则广播出去。
3. 定期清除老化的地址表条目
:::
4、写出在路由器上配置SSH服务器的过程。
::: details 点我查看答案
```shell
RTA的相关操作:
[RTA]ssh server enable 

[RTA] line vty 0 4
[RTA-line-vty-0-4] authentication-mode scheme
[RTA-line-vty-0-4] protocol inbound ssh

[RTA] local-user admin
[RTA] password simple ad123456789
[RTA] services-type ssh
[RTA] authorization-attribute user-role network-admin 
[RTA] quit
[RTA] public-key local create rsa


 
```
:::
5、简述Access、Trunk和Hybrid类型端口转发MAC数据帧的过程。
::: details 点我查看答案
![img.png](SW-RT/img2.png)
1. Access: 用于连接终端设备。当接收到一个无标签帧会打上自己的pvid；
如果收到的是一个带标签的帧，与自己的pvid相同就保留转发，如果不同，则丢弃该帧。
2. Trunk: 接受数据帧，与pvid相同，则接受，没有携带标签，则打上自己的pvid；
如果该帧的pvid在允许的pvid列表里，则脱离标签转发；
若不在，则保持原有的pvid转发。
3. Hybrid:接受数据帧，如果和自己的pvid相同则接受，没有携带标签，则打上自己的pvid；
转发帧时，查看tagged表和untagged表，如果数据帧的pvid位于tagged表中，则带标签转发；在untagged表，则剥离标签转发。
:::
6、如下图所示，实现相同VLAN内PC互通，不同VLAN间PC不同，请写出完整的配置命令。
![img.png](SW-RT/img3.png)
::: details 点我查看答案
```html
左侧交换机:
# vlan 10 
# vlan 20 
# inter g1/0/1
# port access vlan 10
# inter g1/0/1
# port access vlan 20
# inter g1/0/3
# pork link-type trunk
# port trunk permit vlan 10 20

右侧交换机:
# vlan 10
# vlan 20
# inter g1/0/2
# port access vlan 10
# inter g1/0/3
# port access vlan 20
# inter g1/0/1
# port link-type trunk
# port trunk permit vlan 10 20
```
:::


### 路由与交换技术自测题四
1、列举出生成树协议（STP）的作用和不足之处。
::: details 点我查看答案
作用：避免出现广播风暴，消除数据链路层的物理环路。

不足：1. 收敛速度慢 2. 配置复杂 3. 无法实现负载均衡
                    
:::
2、简述生成树协议（STP）中生成树的计算生成过程。
::: details 点我查看答案
1. 选举根桥：根据桥Id，选举出根桥
2. 选举根端口：根据交换机到根桥的距离，选择距离最短的最为根端口
3. 选举指定端口：选举出一个负责数据转发的端口
4. 阻塞冗余端口：交换机接口除了根端口和指定端口，其他端口全部阻塞
5. 稳定生成树：形成唯一的无环路径，确保网络高效运行。
:::
3、简述子网划分的方法有哪些。
::: details 点我查看答案
1. 固定子网掩码
2. 变长子网掩码
3. 基于CIDR
4. 基于用户需求划分
:::
4、简述交换机MAC地址表的学习过程。
::: details 点我查看答案
1. 记录源MAC地址：交换机在收到数据包时，会记录下对应接口下的MAC地址和接口
2. 更新表项：若发现在记录时出现了相同的MAC地址，会更新对应的接口信息
3. 老化机制：MAC地址表中的MAC条目具有老化时间，到达一定时间会被自动删除
4. 动态维护：在收到不同的数据包时，交换机会做出不同的反应，动态维护更新路由
:::
5、某公司申请一个C类IP地址：202.38.248.0/24，该公司有4个部门,A部门内有10主机,B部门内有15台,C部门有30台主机,D部门内有20台主机,现需要给每个部分划分一个子网，请给出合适的子网划分方案。
::: details 点我查看答案
从大的主机池到小的主机池，看左方的IP地址
|IP范围|子网划分|
|--|--|
|202.38.248.0 ~ 202.38.248.63|202.38.248.0/26|
|202.38.248.64 ~ 202.38.248.95|202.38.248.64/27|
|略|...|
:::
6、现有两台路由器R1、R2和一台PC，你需要将路由器R1上的当前配置保存为配置文件：本人学号.cfg，并将该配置文件通过ftp传输给路由器R2，指定为R2的下次启动配置文件。请写出R1、R2所需要配置命令和PC所需要的操作。
::: details 点我查看答案
1. R1、R2配置ftp服务器，
2. R1保存xxx.cfg
3. PC登录R1，通过get xxx.cfg d:\xxx.cfg,保存到本地
4. PC登录R2，通过put d:\xxx.cfg，使R2拥有这个文件
5. R2执行startup saved-configuration xxx.cfg
:::


### 路由与交换技术自测题五
```html
1.简述链路聚合的作用。
```
::: details 点我查看答案
增加链路带宽、实现了流量的负载分担。
:::
```html
2.简述ARP协议的工作原理。
```
::: details 点我查看答案
1. ARP发送广播帧，询问某个IP的MAC地址是什么？
2. 设备接收到数据包后，以单播的形式回应主机自己的MAC地址
3. ARP将对应的IP和MAC地址的关系作为ARP的缓存，以便后续的快速解析转发
:::
```html
3.简述IPv6的邻居发现协议的基本功能。
```
::: details 点我查看答案
1. 地址解析
2. 重定向功能
3. 地址自动配置
4. 邻居可达性检验
5. 邻居与路由发现
:::
```html
4.一个IP地址192.168.6.38/28,请问它所在子网的广播地址、网络编号、子网掩码、有效主机地址范围分别是什么?
```
::: details 点我查看答案
192.168.6.0010 0110

广播地址：192.168.6.0010 1111

网络编号：192.168.6.0010 1111

子网掩码：255.255.255.1111 0000

有效主机地址范围：192.168.6.0010 0001 ~ 192.168.6.0010 1110
:::

```html
5.某园区网中，财务部门的交换机SWA和业务部门的交换机SWB要连接起来，要求交换机之间的总带宽为30Gbps，
但是SWA和SWB的接口带宽都为10Gbps，请设计一种方案，并给出配置指令，满足组网要求。（提示：链路聚合）
```
::: details 点我查看答案
```html
[SWA]:
# inter bridge-aggregation 1

# inter g1/0/1
# port link-aggregation group 1
# ...

[SWB]:如SWA基本一致
```
:::
```html
6. 某单位园区网拓扑结构下图，组网要求所有主机均采用动态地址分配，
可分配的IP范围是10.0.0.1-10.0.0.254，
该园区有台路由器，DNS服务器地址为202.38.248.1。
请设计出一种方案，并写出全部指令。（提示：每个子网一个地址池）(此题有问题)
```
![img.png](SW-RT/img12.png)???
::: details 点我查看答案
```html
RTA:
# dhcp enable 
# dhcp server forbidden-ip 接口IP
# dhcp server ip-pool pool1
# network 10.1.1.1 24
# gateway-list 10.1.1.1
# dns-list 202.38.248.1

三层交换机SWA:
# inter g0/0/1
# dhcp select relay
# dhcp relay server-address 连接服务器的接口地址
```
:::
### 路由与交换技术自测题六
```html
1、 名词解释：广播、组播与单播。
```
::: details 点我查看答案
1. 广播：发送给网络中的所有设备
2. 组播：发送给一组特定设备
3. 单播：一对一的通信方式，适合点对点通信
:::
```html
2、简述动态路由协议的工作过程。
```
::: details 点我查看答案
RIP:
1. 根据直连路由的信息，初始化路由表
2. 与相邻的路由器，发送自己的路由信息
3. 接受路由信息，更新自己的路由条目
4. 通过多次更新，形成稳定的路由表
---
OSPF:
1. 寻找邻居：发送Hello报文寻找邻居，建立邻居关系
2. 建立邻接关系：选举出BDR和DR，建立完全邻接关系
3. 链路状态信息传递：交换链路状态信息，通过LSA建立链路状态信息库
4. 计算路由：利用最短路径算法SPF，计算路由，生成路由表
:::
```html
3、简述RIP的缺陷。
```
::: details 点我查看答案
1. 收敛速度慢，网络更新时长慢
2. 不能够自动检测路由环路
3. 度量值根据的是跳数
4. 最大跳跃只能到15跳
5. 难以支持复杂路由
6. 浪费带宽和资源，定期广播整个路由表
:::
4、 某园区网络划分三个VLAN，网络结构如下图，请设计一种方案，实现不能VLAN之间互通，写出相关指令。
![img.png](SW-RT/img5.png)
::: details 点我查看答案
```html
RTA:
# inter g0/0.1
# vlan-type dot1q vid 10
# ip addr 10.1.1.1 24
# inter g0/0.2
# vlan-type dot1q vid 20
# ip addr 10.1.2.1 20
# inter g0/0.3
# vlan-type dot1q vid 30
# ip addr 10.1.3.1 24

交换机:
# vlan 10
# inter g1/0/2
# vlan 20
# inter g1/0/3
# vlan 30
# inter g1/0/4
# inter g1/0/1
# port link-type trunk
# port trunk permit vlan 10 20 30
```
:::
5、如下图，请在每个路由器上配置静态路由，实现下面网络的全网互通。
![img.png](SW-RT/img6.png)
::: details 点我查看答案
```html
RTA:
# ip route-static 10.3.0.0 24 10.2.0.2
# ip route-static 10.4.0.0 24 10.2.0.2
# ip route-static 10.5.0.0 24 10.2.0.2

RTB:
# ip route-static 10.1.0.0 24 10.2.0.1
# ip route-static 10.4.0.0 24 10.3.0.2
# ip route-static 10.5.0.0 24 10.3.0.2

RTC:
# ip route-static 10.1.0.0 24 10.3.0.1
# ip route-static 10.2.0.0 24 10.3.0.1
# ip route-static 10.5.0.0 24 10.4.0.2

RTD:
# ip route-static 10.1.0.0 24 10.4.0.1
# ip route-static 10.2.0.0 24 10.4.0.1
# ip route-static 10.3.0.0 24 10.4.0.1
```
:::
6、如下图，请在每个路由器上配置RIP路由，实现下面网络的全网互通
![img.png](SW-RT/img6.png)
::: details 点我查看答案
```html
RTA:
# rip1
# network 10.1.0.0
# network 10.2.0.0

RTB:
# rip1
# network 10.2.0.0
# network 10.3.0.0

RTC:
# rip1
# network 10.3.0.0
# network 10.4.0.0

RTD:
# rip1
# network 10.4.0.0
# network 10.5.0.0
```
:::



### 路由与交换技术自测题七
1、简述OSPF路由协议的工作过程有哪些阶段，每个阶段的基本任务。
::: details 点我查看答案
1. 寻找邻居：发送Hello报文寻找邻居，建立邻居关系
2. 建立邻接关系：选举出BDR和DR，建立完全邻接关系
3. 链路状态信息传递：交换链路状态信息，通过LSA建立链路状态信息库
4. 计算路由：利用最短路径算法SPF，计算路由，生成路由表
:::
2、  某校园网分为3个Vlan，如下图，请设计一种利用三层交换机实现VLAN间互通的方案。
![img.png](SW-RT/img7.png)
::: details 点我查看答案
```html
# vlan 100
# inter g1/0/1
# port link-type access
# port access vlan 100
# vlan 200
# inter g1/0/2
# port link-type access
# port access vlan 200
# vlan 300
# inter g1/0/3
# port link-type access
# port access vlan 300

# inter vlan-interface 100
# ip addr 10.1.1.1 24
# inter vlan-interface 200
# ip addr 10.1.2.1 24
# inter vlan-interface 300
# ip addr 10.1.3.1 24
```
:::
```html
3、交换网络中运行了生成树协议，请描述一下，在主要链路断开，到启用备份链路中间需要经过几个阶段？有什么特点？
```
::: details 点我查看答案
1. Disable: 禁用状态，不接受并且不转发BDPU，不学习MAC地址，不转发数据
2. Blocking: 阻塞状态，接受但不转发BDPU，不学习MAC地址，不转发数据
3. Listening: 监听状态，接受并转发BDPU，不学习MAC地址，不转发数据
4. Learning: 学习状态，接受并转发BDPU，学习MAC地址，但不转发数据
5. Forwarding: 转发状态，接受并发送BPDU，学习MAC地址，转发数据
:::
```html
4、简述ACL的应用。
```
::: details 点我查看答案
1. 包过滤防火墙功能
2. NAT(地址转换)
3. Qos(服务质量)
4. 路由策略与过滤
5. 按需拨号
:::
```html
5、简述ACL的类型及特点。
```
::: details 点我查看答案
1. 基本ACL: 只能对源地址进行限制
2. 高级ACL: 可以对源地址和目标地址进行限制，可以根据协议类型、端口号进行配置
3. 二层ACL: 可以根据源MAC地址、目的MAC地址、Vlan的相关信息进行配置
4. 用户自定义ACL: 可以根据报文的信息进行具体的配置
:::
6、 如下图，请在每个路由器上配置OSPF路由协议，实现下面网络的全网互通。
![img.png](SW-RT/img6.png)
::: details 点我查看答案
```html
RTA:
# route id 1.1.1.1
# ospf 1
# area 0
# network 1.1.1.1 0.0.0.0
# network 10.1.0.0 0.0.0.255
# network 10.2.0.0 0.0.0.255

RTB:
# route id 2.2.2.2
# ospf 1
# area 0
# network 2.2.2.2 0.0.0.0
# network 10.2.0.0 0.0.0.255
# network 10.3.0.0 0.0.0.255

RTC:
# route id 3.3.3.3
# ospf 1
# area 0
# network 3.3.3.3 0.0.0.0
# network 10.3.0.0 0.0.0.255
# network 10.4.0.0 0.0.0.255

RTD:
# route id 4.4.4.4
# ospf 1
# area 0
# network 4.4.4.4 0.0.0.0
# network 10.4.0.0 0.0.0.255
# network 10.5.0.0 0.0.0.255
```
:::


### 路由与交换技术自测题八
```html
1、请问距离矢量协议和链路状态协议有什么区别？
```
::: details 点我查看答案
```html
距离矢量协议:
RIP、BGP
链路状态协议:
OSPF、IS-IS

区别：
距离矢量协议更新周期是周期性的，小型网络，仅知道邻居路由的信息，易出现环路，收敛速度慢
链路状态协议更新周期是非周期性的，大型复杂网络，知道全局的路由信息，基于SPF算法，收敛速度快


```
:::
```html
2、 如下图，请在每个路由器上配置OSPF路由协议，实现下面网络的全网互通。
```
![img.png](SW-RT/img8.png)
::: details 点我查看答案
```html
RTA:
# route id 1.1.1.1
# ospf 1
# area 0
# network 1.1.1.1 0.0.0.0
# network 10.1.0.0 0.0.0.255
# network 10.2.0.0 0.0.0.255

RTB:
# route id 2.2.2.2
# ospf 1
# area 0
# network 2.2.2.2 0.0.0.0
# network 10.2.0.0 0.0.0.255
# area 172.16.0.1
# network 10.4.0.0 0.0.0.255

RTA:
# route id 3.3.3.3
# ospf 1
# area 172.16.0.1
# network 3.3.3.3 0.0.0.0
# network 10.4.0.0 0.0.0.255
# network 10.5.0.0 0.0.0.255
```
:::
```html
3、请讲述RIP协议的几个计时器及作用？
```
::: details 点我查看答案
1. Update(更新)计时器：30s
2. Timeout(失效)计时器：一直不变，180s
3. Garbage-Collect(刷新)计时器：失效后等待120s，彻底删除
:::

```html
4、请简述CHAP的验证过程？
```
::: details 点我查看答案
1. `验证方`发送`被验证方`的主机名和随机报文
2. `被验证方`发送`验证方`的进行hash运算后的随机报文+密码生成的响应值和主机名发送给`验证方`
3. `验证方`验证自己的生成的值和发送回的值是否相等，拒绝/通过
:::
```html
5、简述NAT的常见技术及各种技术地址转换的特点。
```
::: details 点我查看答案
1. Basic NAT: 只转换IP地址 比如从192.168.2.1 -> 198.72.28.11
2. NAPT: 端口映射，私网地址的不同IP可以指向公网地址的同一IP，但是需要区别端口号(多对一)
3. Easy IP：NAPT一种特例，但是不需要提前配置地址池(出接口是公网地址)
4. NAT Server: 目的是公网访问私网，将公网地址转换为私网地址，供其他的公网地址访问
5. NAT ALG: 能够实现应用层的私网地址和公网地址的端口映射
:::
```html
6、一台MSR 路由器通过S1/0 接口连接Internet，GE0/0 接口连接局域网主机，局域网主机所在网段为 10.0.0.0/8，
在Internet 上有一台IP 地址为202.102.2.1 的FTP 服务器。通过在路由器上配置IP 地址和路由， 
目前局域网内的主机可以正常访问Internet(包括公网FTP 服务器)。现在路由器上配置包过滤防火墙，
(1) 使得局域网主机可以ping通FTP服务器
(2) 不能正常访问FTP服务器。
```
::: details 点我查看答案
```html
(1)
# acl number 3000
# rule 0 permit icmp source 10.0.0.0 0.255.255.255 destination 202.102.2.1 0.0.0.0
# inter s1/0
# packet-filter 3000 outbound

(2)
# acl number 3001
# rule 5 deny tcp source 10.0.0.0 0.255.255.255 destination 202.102.2.1 0.0.0.0 destination-port eq 20
# rule 10 deny tcp source 10.0.0.0 0.255.255.255 destination 202.102.2.1 0.0.0.0 destination-port eq 21
# inter g0/0
# packet-filter 3001 inbound
```
:::

### 路由与交换技术自测题九
```html
1、简述网络地址转换的类型及特点。
```
::: details 点我查看答案
1. Basic NAT: 只转换IP地址 比如从192.168.2.1 -> 198.72.28.11
2. NAPT: 端口映射，私网地址的不同IP可以指向公网地址的同一IP，但是需要区别端口号(多对一)
3. Easy IP：NAPT一种特例，但是不需要提前配置地址池(出接口是公网地址)
4. NAT Server: 目的是公网访问私网，将公网地址转换为私网地址，供其他的公网地址访问
5. NAT ALG: 能够实现应用层的私网地址和公网地址的端口映射
:::
```html
2、简述RIP网络协议环路避免机制。
```
::: details 点我查看答案
1. 路由毒化: 将故障的路由条目的度量值设置为16，既不可达
2. 水平分割: 从哪里学到的路由，不会在发送给它
3. 毒性逆转: 从A学到的路由，之后会以度量值为16的路由回传给A
4. 定义度量值最大值: 最大跳数为16跳
5. 抑制时间: 当收到度量值为16的路由条目，进入抑制状态，只有之后收到小于16的路由信息才更新
6. 触发更新: 只有当自身的路由信息发生变化，才会主动发送给其他路由器
:::
```html
3、简述ACL(访问控制列表)的应用。
```
::: details 点我查看答案
1. 包过滤防火墙功能
2. NAT(地址转换)
3. Qos(服务质量)
4. 路由策略与过滤
5. 按需拨号
:::
```html
4、某网络结构如下图所示。
```
![img.png](SW-RT/img9.png)
1. 在RT1上配置Basic Nat，使得内网10.0.0.0/24能够访问互联网，写出RTA1上全部配置指令。

2. 内网有telnet服务器，在RT1上配置NAT，使得外部网络的客户端能够访问该服务器，写出全部指令。
::: details 点我查看答案
```html
(1)
# inter g0/1 
# ip addr 10.0.0.254 24
# inter g0/0
# ip addr 198.76.28.1 24

# ip route-static 0.0.0.0 0 198.76.28.22

# acl number 3000
# rule permit ip source 10.0.0.0 0.0.0.255

# nat address-group 1
# address 198.76.28.10 198.76.28.20

# inter g0/1
# nat outbound 3000 address-group 1 no-pat

(2)
# inter g0/1
# nat server protocol tcp global 198.76.28.11 23 inside 10.0.0.1 23
```
:::


```html
5、两台路由器通过s1/0相连，要求在RTA上配置以PAP方式验证对端RTB，账号和密码均为本人学号。
```
![img.png](SW-RT/img10.png)
::: details 点我查看答案
```html
RTA为主验证方，RTB为被验证方

RTA:
# inter s1/0
# ppp authentication-mode pap
# quit
# local-user 2225060802 class network
# password simple 2225060802
# service-type ppp

RTA:
# inter s1/0
# ppp pap local-user 2225060802 password simple 2225060802
```
:::


### 路由与交换技术自测题十
```html
1、简述RIP路由协议的主要缺陷。
```
::: details 点我查看答案
1. 自身没有检查环路的机制，只能尽可能的避免环路
2. rip的version1版本不支持VLSM
3. 度量值根据的是跳数，跳数限制仅仅只有15跳
4. 不适用于中、大型网络规模的网络
5. 收敛速度慢
6. 默认30s广播整个路由表，浪费带宽与资源
:::

```html
2、简述RIP路由协议和OSPF路由协议的配置过程。
```
::: details 点我查看答案
```html
RIP路由协议
# rip 进程Id
# (version 2) //指定版本为v2
//对于某个路由器左右的直连网段都需要配置network命令
# network 网络地址
# network 网络地址

OSPF路由协议
# route id x.x.x.x
# ospf 进程Id
# area 0/IP地址
# network x.x.x.x 反掩码
# network 网络地址 反掩码
# network 网络地址 反掩码
```
:::

```html
3、简述静态路由的配置方法和过程？
```
::: details 点我查看答案
ip route-static 目标网络 子网掩码 下一跳地址
:::

```html
4、某两台路由器通过S1/0接口相连，如下图所示，在RTA和RTB上配置PPP Chap验证，账号和密码均为本人的学号。
```

![img.png](SW-RT/img10.png)
::: details 点我查看答案
```html
RTA为主验证方，RTB为被验证方
RTA:
# inter s1/0
# ppp authentication-mode chap
# quit
# local-user abc class network
# password simple abc
# service-type ppp

RTB:
# inter s1/0
# ppp chap user abc 
# ppp chap password simple abc
```
:::
```html
5、某网络基本结构如下图所示
```
![img.png](SW-RT/img11.png)

在路由器RTA上配置包过滤防火墙，实现以下目的：

1. 禁止PCA能够ping通PCB

2. 子网192.168.0.0/24的所有主机不能访问PCB上的Telnet服务器

3. 主机PCA不能访问PCB上的Telnet服务器

::: details 点我查看答案
```html
假设 
PCA的IP：192.168.0.2
PCB的IP：192.168.2.2

(1):
# acl number 3000
# rule 5 deny icmp source 192.168.0.0 0.0.0.255 destination 192.168.2.2 0.0.0.0
# packet-filter 3000 outbound

(2):
# acl number 3001
# rule 10 deny tcp source 192.168.0.0 0.0.0.255 destination 192.168.2.2 0.0.0.0 
destination-port eq 23
# packet-filter 3001 outbound

(3):
# acl number 3002
# rule 10 deny tcp source 192.168.0.2 0.0.0.0 destination 192.168.2.2 0.0.0.0
destination-port eq 23
# packet-filter 3002 outbound
```
:::

[//]: # (## 路由与交换解答题)

[//]: # (1. 简述OSI的七层模型的各层的名称和功能)

[//]: # (   - 物理层：负责比特流的传输)

[//]: # (   - 数据链路层：负责封装数据帧并传输)

[//]: # (   - 网络层：负责数据包的路由与转发)

[//]: # (   - 传输层：提供端对端的传输)

[//]: # (   - 会话层：负责会话的建立、维护和结束)

[//]: # (   - 表示层：负责数据的编码、加密和压缩)

[//]: # (   - 应用层：提供各种应用文件)

[//]: # ()
[//]: # (2. 简述计算机的性能指标和含义)

[//]: # (   - 数据率：传输数据的速率)

[//]: # (   - 带宽：最高的传输速率)

[//]: # (   - 时延：数据传输的延迟时间)

[//]: # (   - 时延带宽积：时延和带宽的乘积)

[//]: # (   - 吞吐量：单位时间通过某个网络的数据量)

[//]: # ()
[//]: # (3. 交换机和路由器的区别)

[//]: # (   - 一般来说，交换机位于数据链路层，路由器位于网络层)

[//]: # (   - 交换机只能分割冲突域，而路由器还可以分割广播域)

[//]: # (   - 路由器可以充当网关设备)

[//]: # (   - 交换机与路由器转发数据的依据不同)

[//]: # ()
[//]: # (4. 访问网络设备命令行接口的方法)

[//]: # (   - 使用Console口本地访问)

[//]: # (   - 通过AUX远程访问)

[//]: # (   - 通过telnet和ssh终端访问)

[//]: # (   - 通过异步串口访问)

[//]: # ()
[//]: # ()
[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # (以下工作于OSI参考模型数据链路层的设备是)

[//]: # (A.广域网交换机)

[//]: # (B.路由器)

[//]: # (C.中继器)

[//]: # (D.集线器)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`A`)

[//]: # (| 设备         | OSI模型层 |)

[//]: # (|--------------|--------------|)

[//]: # (| 广域网交换机 | 数据链路层    |)

[//]: # (| 路由器       | 网络层        |)

[//]: # (| 中继器       | 物理层        |)

[//]: # (| 集线器       | 物理层        |)

[//]: # (:::)

[//]: # ()
[//]: # (```html)

[//]: # (下列有关光纤的说法中哪些是错误的?&#40;多选&#41;)

[//]: # (A.多模光纤可传输不同波长不同入射角度的光)

[//]: # (B.多模光纤的纤芯较细)

[//]: # (C.采用多模光纤时，信号的最大传输距离比单模光纤长)

[//]: # (D.多模光纤的成本比单模光纤低)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`BC`)

[//]: # ()
[//]: # (<mark>B</mark>: 多模光纤的纤芯通常较粗，一般直径为 50µm 或 62.5µm，而单模光纤的纤芯直径通常为 8-10µm。)

[//]: # ()
[//]: # (<mark>C</mark>: 多模光纤的信号传输距离通常比单模光纤短。这是因为多模光纤会产生模式色散，导致信号失真和衰减更快。)

[//]: # (:::)

[//]: # ()
[//]: # (```html)

[//]: # (IP 地址202.135.111.77 对应的自然分类网段的广播地址为_______。)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`广播地址IP：202.135.111.255`)

[//]: # (| **特性**           | **A类**               | **B类**               | **C类**               |)

[//]: # (|--------------------|-----------------------|-----------------------|-----------------------|)

[//]: # (| **首字节范围**     | 1 - 126              | 128 - 191            | 192 - 223            |)

[//]: # (| **子网掩码**       | 255.0.0.0 &#40;/8&#41;       | 255.255.0.0 &#40;/16&#41;    | 255.255.255.0 &#40;/24&#41;  |)

[//]: # (| **网络位长度**     | 8位                  | 16位                 | 24位                 |)

[//]: # (| **主机位长度**     | 24位                 | 16位                 | 8位                  |)

[//]: # (| **网络数**         | 126                  | 16,384               | 2,097,152            |)

[//]: # (| **每网络主机数**   | 16,777,214           | 65,534               | 254                  |)

[//]: # (| **私网地址范围**   | 10.0.0.0 - 10.255.255.255 | 172.16.0.0 - 172.31.255.255 | 192.168.0.0 - 192.168.255.255 |)

[//]: # (| **应用场景**       | 大型网络             | 中型网络             | 小型网络             |)

[//]: # ()
[//]: # (:::)

[//]: # ()
[//]: # (```html)

[//]: # (FTP 默认使用的控制协议端口是)

[//]: # (A.20)

[//]: # (B.21)

[//]: # (2.22)

[//]: # (D.23)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`B`)

[//]: # ()
[//]: # (`A`)

[//]: # ()
[//]: # (- **端口 21**: 用于 `FTP` 的控制连接&#40;传输命令和响应&#41;。)

[//]: # (- **端口 20**: 是`FTP`的数据传输端口，用于主动模式的数据连接。)

[//]: # (- 端口 **22**: 是 `SSH`的默认端口。)

[//]: # (- 端口 **23**: 是 `Telnet`的默认端口。)

[//]: # (:::)

[//]: # ()
[//]: # (```html)

[//]: # (_______命令可指定下次启动使用的操作系统软件。)

[//]: # (A.startup)

[//]: # (B.boot-loader)

[//]: # (C.bootfile)

[//]: # (D.boot startup)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`B`)

[//]: # (:::)

[//]: # ()
[//]: # (```html)

[//]: # (通常情况下，路由器会对长度大于接口MTU的报文分片。为了检测线路MTU，可以带_______参数ping目的地址。)

[//]: # (A.-a)

[//]: # (B.-d)

[//]: # (C.-f)

[//]: # (D.-c)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`C`)

[//]: # (- -a：显示目标主机的主机名。)

[//]: # (- -d：打开调试模式。)

[//]: # (- -f：禁止分片&#40;用于检测 MTU&#41;。)

[//]: # (- -c：指定发送的 ping 数据包数量。)

[//]: # (:::)

[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # (如果以太网交换机中某个运行STP的端口不接收或转发数据，接收并发送BPDU，不进行地址学习，那么该)

[//]: # (端口应该处于_______状态。)

[//]: # (A.Blocking)

[//]: # (B.Listening)

[//]: # (C.Learning)

[//]: # (D.Forwarding)

[//]: # (E.Waiting)

[//]: # (F.Disable)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`B`)

[//]: # (| 状态/功能         | 接收配置BPDU | 发送配置BPDU | MAC地址学习 | 接受和转发数据 | )

[//]: # (|-------------------|:-----------:|:-----------:|:-----------:|:-------------:|)

[//]: # (| **Disable**        |             |             |              |              |   )

[//]: # (| **Blocking**       |     ✅      |             |             |           |      )

[//]: # (| **Listening**      |     ✅      |     ✅      |             |           |      )

[//]: # (| **Learning**       |     ✅      |     ✅      |      ✅        |           |         )

[//]: # (| **Forwarding**     |     ✅      |     ✅      |     ✅      |    ✅     |)

[//]: # (:::)

[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # (在如图所示的交换网络中，所有交换机都启用了STP 协议。SWA 被选为了根桥。根据图中的信息来看，)

[//]: # (_______端口应该被置为Blocking 状态。&#40;多选&#41;)

[//]: # (```)

[//]: # (::: center)

[//]: # (![]&#40;https://www.gsllsc.com:12555/api/pumpkin/assets/resources/h3c/switch_1.png&#41;)

[//]: # (:::)

[//]: # ()
[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`BC`)

[//]: # ()
[//]: # (- Step1: 根桥的端口都是DP)

[//]: # (- Step2: 标记每一个交换机的RP)

[//]: # (- Step3: 标记每一个链路的DP)

[//]: # (- Step4: 其余标记为AP)

[//]: # ()
[//]: # (:::important)

[//]: # (- **根端口 &#40;Root Port, RP&#41;**: 每个网桥上到达根桥最近的端口。)

[//]: # (- **指定端口 &#40;Designate Port, DP&#41;**: 每条链路两端到达根桥最近的网桥所拥有的端口。)

[//]: # (- **候补端口 &#40;Alternate Port, AP&#41;**: 既不是 RP 也不是 DP 的端口。)

[//]: # ()
[//]: # (  在网络处于稳定状态时：)

[//]: # (1. **根端口**和**指定端口**处于 **转发 &#40;forwarding&#41;** 状态。)

[//]: # (2. **候补端口**处于 **阻塞 &#40;blocking&#41;** 状态。)

[//]: # (:::)

[//]: # (```html)

[//]: # (配置交换机SWA 的桥优先级为0的命令为_______。)

[//]: # (A.[SWA] stp priority 0)

[//]: # (B.[SWA-Ethernet1/0/1] stp priority 0)

[//]: # (C.[SWA] stp root priority 0)

[//]: # (D.[SWA-Ethernet1/0/1]stp root priority 0)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`A`)

[//]: # (:::)

[//]: # ()
[//]: # ()
[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # (TFTP 采用的传输层知名端口号为)

[//]: # (A.67)

[//]: # (B.68)

[//]: # (C.69)

[//]: # (D.53)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`C`)

[//]: # ()
[//]: # (| **属性**         | **TFTP**                  | **FTP**                              |)

[//]: # (|-------------------|---------------------------|--------------------------------------|)

[//]: # (| **传输层协议**     | 基于 **UDP** &#40;无连接，不可靠传输&#41;    | 基于 **TCP** &#40;面向连接，可靠传输&#41;               |)

[//]: # (| **端口号**        | 使用默认端口 **69**             | 使用默认端口 **21** &#40;控制连接&#41; 和 **20** &#40;数据连接&#41; |)

[//]: # (| **安全性**        | 不安全，数据明文传输，无加密            | 数据明文传输，但可结合 FTPS 或 SFTP 提供加密         |)

[//]: # (| **适用场景**      | 简单环境&#40;嵌入式设备固件传输、网络设备配置等&#41;   | 复杂环境&#40;大文件传输、用户管理、多功能操作等&#41;              |)

[//]: # (| **性能**          | 由于基于 UDP，效率较高，但适合小文件传输    | 基于 TCP，适合大文件传输，但性能受网络延迟影响            |)

[//]: # (| **文件大小限制**   | 支持的文件大小受限于协议实现&#40;通常最大 32MB&#41; | 理论上支持无限制的文件大小                        |)

[//]: # ()
[//]: # (**TCP常见端口**)

[//]: # ()
[//]: # (| **协议**        | **端口号**       | **描述**                  |)

[//]: # (|------------------|------------------|-------------------------|)

[//]: # (| **FTP**         | 20/21            | 文件传输协议&#40;20 数据，21 控制&#41;     |)

[//]: # (| **SSH**         | 22               | 安全远程登录                  |)

[//]: # (| **Telnet**      | 23               | 远程登录协议&#40;不安全&#41;             |)

[//]: # (| **SMTP**        | 25               | 发送邮件协议                  |)

[//]: # (| **POP3**        | 110              | 接收邮件协议                  |)

[//]: # (| **DNS &#40;TCP&#41;**   | 53               | 域名解析服务&#40;区域传送&#41;            |)

[//]: # (| **HTTP**        | 80               | 超文本传输协议                 |)

[//]: # (| **HTTPS**       | 443              | HTTP 安全版&#40;基于 SSL/TLS 加密&#41; |)

[//]: # ()
[//]: # (---)

[//]: # ()
[//]: # (**UDP 常见端口**)

[//]: # ()
[//]: # (| **协议**        | **端口号**       | **描述**            |)

[//]: # (|------------------|------------------|-------------------|)

[//]: # (| **DNS &#40;UDP&#41;**   | 53               | 域名解析服务&#40;查询&#41;        |)

[//]: # (| **DHCP &#40;Server&#41;** | 67              | 动态主机配置协议&#40;服务器端口&#41;   |)

[//]: # (| **DHCP &#40;Client&#41;** | 68              | 动态主机配置协议&#40;客户端端口&#41;   |)

[//]: # (| **TFTP**        | 69               | 简单文件传输协议          |)

[//]: # (| **SNMP &#40;Server&#41;** | 161             | 简单网络管理协议&#40;服务器监听端口&#41; |)

[//]: # (| **SNMP &#40;Client&#41;** | 162             | 简单网络管理协议&#40;客户端监听端口&#41; |)

[//]: # ()
[//]: # (:::)

[//]: # ()
[//]: # ()
[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # (在Windows 操作系统中，哪一条命令能够显示ARP 表项信息?)

[//]: # (A.display arp)

[//]: # (B.arp -a)

[//]: # (C.arp -d)

[//]: # (D.show arp)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`a`)

[//]: # (:::)

[//]: # ()
[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # (客户的网络连接形如：)

[//]: # (HostA----GE0/0--MSR-1--S1/0-----WAN-----S1/0--MSR-2--GE0/0----HostB)

[//]: # (两台MSR 路由器通过广域网实现互连，目前物理连接已经正常。)

[//]: # (MSR-1 的接口S1/0 地址为3.3.3.1/30，MSR-2 的接口S1/0 地址为3.3.3.2/30，现在在MSR-1 上配置了如下三条静态路由：)

[//]: # (ip route-static 192.168.1.0 255.255.255.0 3.3.3.2 )

[//]: # (ip route-static 192.168.2.0 255.255.255.0 3.3.3.2 )

[//]: # (ip route-static 192.168.0.0 255.255.255.0 3.3.3.2)

[//]: # (其中192.168.0.0/22 子网是主机HostB 所在的局域网段。那么如下描述哪些是正确的？&#40;多选&#41;)

[//]: # (A. 这三条路由都会被写入MSR-1 的路由表)

[//]: # (B. 只有第三条路由会被写入MSR-1 的路由表)

[//]: # (C. 这三条路由可以被一条路由ip route-static 192.168.0.0 255.255.252.0 3.3.3.2 代替)

[//]: # (D. 只有第一条路由会被写入MSR-1 的路由表)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`AC`)

[//]: # (:::)

[//]: # ()
[//]: # (```html)

[//]: # (如下哪种路由协议只关心到达目的网段的距离和方向？ &#40;多选&#41;)

[//]: # (A. IGP)

[//]: # (B. OSPF )

[//]: # (C. RIPv1 )

[//]: # (D. RIPv2)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # (`CD`)

[//]: # ()
[//]: # (RIPv1 和 RIPv2 只关心到目标网络的距离和方向，是典型的距离矢量协议。)

[//]: # (:::)

[//]: # ()
[//]: # (```html)

[//]: # (两台空配置的MSR 路由器通过图示的方式连接，通过配置IP 地址，两台路由器的GE0/0 接口可以互通。)

[//]: # (|-----RTA&#40;GE 0/0&#41; ---------------------RTB&#40;GE 0/0&#41;------|)

[//]: # (         &#40;192.168.1.1/30&#41;                 &#40;192.168.1.2/30&#41;)

[//]: # (如今分别在两台路由器上增加如下配置： )

[//]: # ()
[//]: # (RTA：)

[//]: # ([RTA]ospf)

[//]: # ([RTA-ospf-1]area 0)

[//]: # ([RTA-ospf-1-area-0.0.0.0]network 192.168.1.1 0.0.0.3)

[//]: # ([RTA-GigabitEthernet0/0]ospfdr-priority 2 )

[//]: # ()
[//]: # (RTB：)

[//]: # ([RTB]ospf)

[//]: # ([RTB-ospf-1]area 0)

[//]: # ([RTB-ospf-1-area-0.0.0.0]network 192.168.1.1 0.0.0.3)

[//]: # ([RTB-GigabitEthernet0/0]ospfdr-priority   那么在OSPF 邻居状态稳定后，       。)

[//]: # (A. OSPF 接口优先级相同，在192.168.1.0/30 网段上不进行OSPF DR 选举)

[//]: # (B. 两台路由器中，一台为DR ，一台为BDR)

[//]: # (C. 两台路由器中，一台为DR ，一台为DRother  )

[//]: # (D. 两台路由器的邻居状态分别为FULL 、2-Way)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # ()
[//]: # (:::)

[//]: # ()
[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # ()
[//]: # (A.)

[//]: # (B.)

[//]: # (C.)

[//]: # (D.)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # ()
[//]: # (:::)

[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # ()
[//]: # (A.)

[//]: # (B.)

[//]: # (C.)

[//]: # (D.)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # ()
[//]: # (:::)

[//]: # ()
[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # ()
[//]: # (A.)

[//]: # (B.)

[//]: # (C.)

[//]: # (D.)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # ()
[//]: # (:::)

[//]: # ()
[//]: # ()
[//]: # ()
[//]: # (```html)

[//]: # ()
[//]: # (A.)

[//]: # (B.)

[//]: # (C.)

[//]: # (D.)

[//]: # (```)

[//]: # (::: details 点我查看答案 & 解析)

[//]: # ()
[//]: # (:::)
